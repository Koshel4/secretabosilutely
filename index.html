<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–†–ï–í–ù–ï–ï –ü–†–û–ö–õ–Ø–¢–ò–ï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #8b4513;
            overflow: hidden;
            height: 100vh;
            position: relative;
            user-select: none;
        }

        .stage {
            display: none;
            position: absolute;
            width: 100%;
            height: 100%;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
        }

        .stage.active {
            display: flex;
        }

        /* –≠—Ç–∞–ø 1: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ */
        #stage1 {
            background: linear-gradient(135deg, #1a0000 0%, #000000 100%);
        }

        .warning-box {
            background: rgba(0, 0, 0, 0.9);
            border: 3px solid #8b0000;
            padding: 30px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 0 50px rgba(139, 0, 0, 0.5);
            position: relative;
            animation: flicker 0.1s infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.95; }
        }

        .skull {
            font-size: clamp(60px, 15vw, 100px);
            animation: rotate-skull 3s infinite;
            display: inline-block;
        }

        @keyframes rotate-skull {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }

        .warning-text {
            font-size: clamp(14px, 3.5vw, 18px);
            line-height: 1.8;
            color: #ff4444;
            text-shadow: 0 0 10px rgba(255, 68, 68, 0.5);
            margin: 20px 0;
        }

        .ancient-button {
            background: #8b0000;
            color: #fff;
            border: 2px solid #ff4444;
            padding: 15px 40px;
            font-size: clamp(16px, 4vw, 20px);
            cursor: pointer;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
            box-shadow: 0 0 20px rgba(139, 0, 0, 0.5);
        }

        .ancient-button:active {
            transform: scale(0.95);
            box-shadow: 0 0 40px rgba(255, 68, 68, 0.8);
        }

        /* –≠—Ç–∞–ø 2: –í—ã–±–æ—Ä —Å–∫–µ–ª–µ—Ç–∞ */
        #stage2 {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
        }

        .task-title {
            font-size: clamp(20px, 5vw, 30px);
            color: #666;
            margin-bottom: 30px;
            text-align: center;
            text-shadow: 0 0 10px rgba(102, 102, 102, 0.5);
        }

        .skeleton-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            max-width: 400px;
        }

        .skeleton-item {
            aspect-ratio: 1;
            background: rgba(40, 40, 40, 0.8);
            border: 2px solid #444;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(40px, 10vw, 60px);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .skeleton-item:active {
            transform: scale(0.9);
        }

        .skeleton-item.wrong {
            animation: shake 0.5s;
            border-color: #8b0000;
        }

        .skeleton-item.correct {
            background: rgba(0, 100, 0, 0.3);
            border-color: #0f0;
            animation: glow 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 0, 0.5); }
            50% { box-shadow: 0 0 30px rgba(0, 255, 0, 0.9); }
        }

/* –≠—Ç–∞–ø 3: –†–∏—Ç—É–∞–ª —Å –ø–µ–Ω—Ç–∞–≥—Ä–∞–º–º–æ–π */
#stage3 {
    background: linear-gradient(135deg, #16003b 0%, #000000 100%);
}

.pentagram-container {
    position: relative;
    width: clamp(250px, 70vw, 400px);
    height: clamp(250px, 70vw, 400px);
}

.pentagram {
    width: 100%;
    height: 100%;
    position: relative;
}

.pentagram svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    height: 90%;
}

.pentagram svg path {
    animation: pulse-star 2s ease-in-out infinite;
}

@keyframes pulse-star {
    0%, 100% { opacity: 0.4; stroke: #8b0000; }
    50% { opacity: 0.8; stroke: #ff0000; }
}

.pentagram-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: clamp(50px, 12vw, 80px);
    z-index: 10;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translate(-50%, -50%) translateY(0); }
    50% { transform: translate(-50%, -50%) translateY(-20px); }
}

.candle {
    position: absolute;
    font-size: clamp(30px, 8vw, 50px);
    cursor: pointer;
    transition: all 0.3s;
    filter: grayscale(1);
}

.candle.lit {
    filter: grayscale(0);
    animation: flicker-candle 0.5s infinite;
}

@keyframes flicker-candle {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–µ—á–µ–π –ø–æ –∫—Ä—É–≥—É */
/* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–µ—á–µ–π –ø–æ –∫—Ä—É–≥—É */
/* SVG = 1-–π child, pentagram-center = 2-–π child, —Å–≤–µ—á–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 3-–≥–æ */
.candle:nth-child(3) {  /* –ü–µ—Ä–≤–∞—è —Å–≤–µ—á–∞ */
    top: -5%; 
    left: 50%; 
    margin-left: -25px;
}
.candle:nth-child(4) {  /* –í—Ç–æ—Ä–∞—è —Å–≤–µ—á–∞ */
    top: 25%; 
    right: 2%; 
}
.candle:nth-child(5) {  /* –¢—Ä–µ—Ç—å—è —Å–≤–µ—á–∞ */
    bottom: 18%; 
    right: 15%; 
}
.candle:nth-child(6) {  /* –ß–µ—Ç–≤–µ—Ä—Ç–∞—è —Å–≤–µ—á–∞ */
    bottom: 18%; 
    left: 15%; 
}
.candle:nth-child(7) {  /* –ü—è—Ç–∞—è —Å–≤–µ—á–∞ */
    top: 25%; 
    left: 2%; 
}

        /* –≠—Ç–∞–ø 4: –ö–æ–¥ –∏–∑ –∫–æ—Å—Ç–µ–π */
        #stage4 {
            background: linear-gradient(135deg, #0d1b2a 0%, #000000 100%);
        }

        .bone-code {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 30px;
        }

        .bone-slot {
            width: clamp(60px, 15vw, 80px);
            height: clamp(80px, 20vw, 100px);
            background: rgba(50, 50, 50, 0.5);
            border: 3px dashed #666;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: clamp(40px, 10vw, 60px);
            cursor: pointer;
            transition: all 0.3s;
        }

        .bone-slot:active {
            transform: rotate(15deg);
        }

        .bone-number {
            font-size: clamp(12px, 3vw, 16px);
            color: #888;
            margin-top: 5px;
        }

        /* –≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ */
        #stage5 {
            background: #000;
        }

        .transformation {
            text-align: center;
            color: #666;
            font-size: clamp(16px, 4vw, 24px);
        }

        .glitch-text {
            font-size: clamp(30px, 8vw, 60px);
            animation: glitch 0.3s infinite;
            margin: 20px 0;
        }

        @keyframes glitch {
            0% { transform: translate(0); color: #666; }
            33% { transform: translate(-3px, 3px); color: #888; }
            66% { transform: translate(3px, -3px); color: #444; }
            100% { transform: translate(0); color: #666; }
        }

        .loading-bar {
            width: 80%;
            max-width: 400px;
            height: 30px;
            background: rgba(50, 50, 50, 0.5);
            border: 2px solid #666;
            margin: 30px auto;
            overflow: hidden;
            position: relative;
        }

        .loading-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b0000, #ff4444);
            width: 0%;
            transition: width 3s linear;
        }

        /* –≠—Ç–∞–ø 6: –ü–†–ò–ó–ù–ê–ù–ò–ï */
        #stage6 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            animation: bg-shift 3s ease-in-out infinite;
        }

        @keyframes bg-shift {
            0%, 100% { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
            50% { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        }

        .love-message {
            text-align: center;
            color: white;
            font-family: 'Georgia', serif;
        }

        .love-title {
            font-size: clamp(40px, 10vw, 90px);
            font-weight: bold;
            margin-bottom: 30px;
            animation: bounce-in 1.5s forwards;
            opacity: 0;
            text-shadow: 3px 3px 20px rgba(0, 0, 0, 0.3);
        }

        @keyframes bounce-in {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-180deg);
            }
            50% {
                transform: scale(1.1) rotate(10deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .love-subtitle {
            font-size: clamp(25px, 6vw, 45px);
            animation: bounce-in 1.5s 0.5s forwards;
            opacity: 0;
            margin-bottom: 20px;
        }

        .love-ps {
            font-size: clamp(16px, 4vw, 24px);
            animation: fade-in 2s 1s forwards;
            opacity: 0;
            font-style: italic;
            margin-top: 40px;
        }

        @keyframes fade-in {
            to { opacity: 1; }
        }

        .explosion {
            position: fixed;
            font-size: clamp(30px, 8vw, 60px);
            pointer-events: none;
            animation: explode 2s forwards;
        }

        @keyframes explode {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 1;
            }
            100% {
                transform: translate(
                    calc(-50% + var(--x)),
                    calc(-50% + var(--y))
                ) scale(1) rotate(720deg);
                opacity: 0;
            }
        }

        .hint {
            font-size: clamp(11px, 2.8vw, 14px);
            opacity: 0.5;
            margin-top: 20px;
            animation: pulse-hint 2s infinite;
        }

        @keyframes pulse-hint {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.2; }
        }

        .floating {
            position: fixed;
            font-size: clamp(25px, 6vw, 50px);
            pointer-events: none;
            animation: float-away 5s linear forwards;
        }

        @keyframes float-away {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-120vh) rotate(360deg);
                opacity: 0;
            }
        }

        .corrupted-text {
            animation: corrupt 0.1s infinite;
        }

        @keyframes corrupt {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- –≠—Ç–∞–ø 1: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
    <div class="stage active" id="stage1">
        <div class="warning-box">
            <div class="skull">üíÄ</div>
            <div class="warning-text">
                ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï ‚ö†Ô∏è<br><br>
                –í—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –¥—Ä–µ–≤–Ω–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç.<br>
                –ù–∞ –Ω—ë–º –ª–µ–∂–∏—Ç <span class="corrupted-text">–ü–†–û–ö–õ–Ø–¢–ò–ï</span>.<br><br>
                –ß—Ç–æ–±—ã —Å–Ω—è—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏–µ,<br>
                –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–π—Ç–∏ —Ä–∏—Ç—É–∞–ª.<br><br>
                <span style="font-size: 0.8em; color: #ff6666;">
                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫?
                </span>
            </div>
            <button class="ancient-button" onclick="goToStage(2)">
                –ù–ê–ß–ê–¢–¨ –†–ò–¢–£–ê–õ
            </button>
        </div>
    </div>

    <!-- –≠—Ç–∞–ø 2: –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–∫–µ–ª–µ—Ç–∞ -->
    <div class="stage" id="stage2">
        <div class="task-title">
            –®–ê–ì 1: –í–´–ë–û–† –ü–†–û–í–û–î–ù–ò–ö–ê<br>
            <span style="font-size: 0.6em; opacity: 0.7;">
                –ù–∞–π–¥–∏—Ç–µ —Å–∫–µ–ª–µ—Ç —Å –¥—É—à–æ–π
            </span>
        </div>
        <div class="skeleton-grid" id="skeletonGrid"></div>
        <div class="hint">–û–¥–∏–Ω –∏–∑ –Ω–∏—Ö... –¥—Ä—É–≥–æ–π</div>
    </div>

<!-- –≠—Ç–∞–ø 3: –ó–∞–∂–µ—á—å —Å–≤–µ—á–∏ -->
<div class="stage" id="stage3">
    <div class="task-title">
        –®–ê–ì 2: –†–ò–¢–£–ê–õ –ü–†–ò–ó–´–í–ê<br>
        <span style="font-size: 0.6em; opacity: 0.7;">
            –ó–∞–∂–≥–∏ –≤—Å–µ —Å–≤–µ—á–∏ –ø–µ–Ω—Ç–∞–≥—Ä–∞–º–º—ã
        </span>
    </div>
    <div class="pentagram-container">
        <div class="pentagram">
            <!-- SVG –ø–µ–Ω—Ç–∞–≥—Ä–∞–º–º–∞ -->
            <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <!-- –ö—Ä—É–≥ -->
                <circle cx="100" cy="100" r="95" 
                        stroke="#666" 
                        stroke-width="1" 
                        fill="none" 
                        opacity="0.3"/>
                
                <!-- –ü—è—Ç–∏–∫–æ–Ω–µ—á–Ω–∞—è –∑–≤–µ–∑–¥–∞ (–ø–µ–Ω—Ç–∞–≥—Ä–∞–º–º–∞) -->
                <path d="M 100 10 L 120 80 L 190 80 L 135 120 L 155 190 L 100 145 L 45 190 L 65 120 L 10 80 L 80 80 Z"
                      stroke="#8b0000"
                      stroke-width="2"
                      fill="none"
                      opacity="0.6"/>
            </svg>
            
            <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—Ä–∏–∑—Ä–∞–∫ -->
            <div class="pentagram-center">üëª</div>
            
            <!-- –°–≤–µ—á–∏ -->
            <div class="candle" onclick="lightCandle(this)">üïØÔ∏è</div>
            <div class="candle" onclick="lightCandle(this)">üïØÔ∏è</div>
            <div class="candle" onclick="lightCandle(this)">üïØÔ∏è</div>
            <div class="candle" onclick="lightCandle(this)">üïØÔ∏è</div>
            <div class="candle" onclick="lightCandle(this)">üïØÔ∏è</div>
        </div>
    </div>
    <div class="hint">–ù–∞–∂–∏–º–∞–π –Ω–∞ —Å–≤–µ—á–∏</div>
</div>

    <!-- –≠—Ç–∞–ø 4: –ö–æ–¥ –∏–∑ –∫–æ—Å—Ç–µ–π -->
    <div class="stage" id="stage4">
        <div class="task-title">
            –®–ê–ì 3: –î–†–ï–í–ù–ò–ô –ö–û–î<br>
            <span style="font-size: 0.6em; opacity: 0.7;">
                –†–∞—Å—Å—Ç–∞–≤—å—Ç–µ –∫–æ—Å—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
            </span>
        </div>
        <div class="bone-code">
            <div class="bone-slot" onclick="rotateBone(0)">
                <div class="bone">ü¶¥</div>
                <div class="bone-number" id="bone0">0</div>
            </div>
            <div class="bone-slot" onclick="rotateBone(1)">
                <div class="bone">ü¶¥</div>
                <div class="bone-number" id="bone1">0</div>
            </div>
            <div class="bone-slot" onclick="rotateBone(2)">
                <div class="bone">ü¶¥</div>
                <div class="bone-number" id="bone2">0</div>
            </div>
            <div class="bone-slot" onclick="rotateBone(3)">
                <div class="bone">ü¶¥</div>
                <div class="bone-number" id="bone3">0</div>
            </div>
        </div>
        <div class="hint">
            –ü–æ–¥—Å–∫–∞–∑–∫–∞: –õ(?) + –Æ(?) + –ë(?) + –õ(?) + –Æ(?) + –ë(?) + –¨(?)<br>
            <span style="font-size: 0.9em;">–°—É–º–º–∞ –±—É–∫–≤ —Å–ª–æ–≤–∞ –∏–∑ 6 –±—É–∫–≤...</span>
        </div>
    </div>

    <!-- –≠—Ç–∞–ø 5: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="stage" id="stage5">
        <div class="transformation">
            <div class="glitch-text">‚ö° –ê–ö–¢–ò–í–ê–¶–ò–Ø ‚ö°</div>
            <div>–ü—Ä–æ–∫–ª—è—Ç–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è...</div>
            <div class="loading-bar">
                <div class="loading-fill" id="loadingFill"></div>
            </div>
            <div style="margin-top: 20px;">
                üíÄ ‚ñ∂ üëª ‚ñ∂ üåü ‚ñ∂ ‚ú® ‚ñ∂ üíù
            </div>
        </div>
    </div>

    <!-- –≠—Ç–∞–ø 6: –ü–†–ò–ó–ù–ê–ù–ò–ï -->
    <div class="stage" id="stage6">
        <div class="love-message">
            <div class="love-title">üíñ –Ø –¢–ï–ë–Ø –õ–Æ–ë–õ–Æ üíñ</div>
            <div class="love-subtitle">–û–ß–ï–ù–¨ –û–ß–ï–ù–¨ –û–ß–ï–ù–¨</div>
            <div class="love-ps">
                P.S. –ü—Ä–æ–∫–ª—è—Ç–∏–µ –±—ã–ª–æ –ª—é–±–æ–≤–Ω—ã–º üòä<br>
                –¢–µ–ø–µ—Ä—å —Ç—ã —Ç–æ–∂–µ –∑–∞–∫–æ–ª–¥–æ–≤–∞–Ω–∞ üíï
            </div>
        </div>
    </div>

    <script>
        let currentStage = 1;
        let litCandles = 0;
        let boneValues = [0, 0, 0, 0];

        function goToStage(stage) {
            document.querySelectorAll('.stage').forEach(s => s.classList.remove('active'));
            document.getElementById('stage' + stage).classList.add('active');
            currentStage = stage;

            if (stage === 2) {
                initSkeletons();
            } else if (stage === 5) {
                startTransformation();
            } else if (stage === 6) {
                startLoveExplosion();
            }
        }

        // –≠—Ç–∞–ø 2: –°–∫–µ–ª–µ—Ç—ã
        function initSkeletons() {
            const grid = document.getElementById('skeletonGrid');
            grid.innerHTML = '';
            
            const skeletons = ['üíÄ', 'üíÄ', 'üíÄ', 'üíÄ', '‚ò†Ô∏è', 'üíÄ', 'üíÄ', 'üíÄ', 'üíÄ'];
            const correctIndex = 4; // –°—Ä–µ–¥–Ω–∏–π - –æ—Å–æ–±–µ–Ω–Ω—ã–π
            
            skeletons.forEach((skeleton, index) => {
                const div = document.createElement('div');
                div.className = 'skeleton-item';
                div.innerHTML = skeleton;
                div.onclick = function() {
                    if (index === correctIndex) {
                        this.classList.add('correct');
                        setTimeout(() => goToStage(3), 800);
                    } else {
                        this.classList.add('wrong');
                        setTimeout(() => this.classList.remove('wrong'), 500);
                    }
                };
                grid.appendChild(div);
            });
        }

        // –≠—Ç–∞–ø 3: –°–≤–µ—á–∏
        function lightCandle(candle) {
            if (!candle.classList.contains('lit')) {
                candle.classList.add('lit');
                litCandles++;
                
                if (litCandles === 5) {
                    setTimeout(() => goToStage(5), 1000);
                }
            }
        }

        // –≠—Ç–∞–ø 4: –ö–æ—Å—Ç–∏ (–∫–æ–¥ 1437 = —Å—É–º–º–∞ –ø–æ–∑–∏—Ü–∏–π –±—É–∫–≤ "–õ–Æ–ë–û–í–¨")
        // –õ(13) + –Æ(33) + –ë(2) + –û(16) + –í(3) + –¨(30) = –Ω–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–æ
        // –£–ø—Ä–æ—Å—Ç–∏–º: 1-4-3-7 –∏–ª–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å 5-2-5-2 (–õ-–Æ-–ë-–õ-–Æ-–ë-–¨ = 7 –±—É–∫–≤, –Ω–æ –≤ —Å–ª–æ–≤–µ 6)
        // –°–¥–µ–ª–∞–µ–º –∫–æ–¥ 1-4-3-7 (—Å—É–º–º–∞ —á–µ–≥–æ-—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ)
        function rotateBone(index) {
            boneValues[index] = (boneValues[index] + 1) % 10;
            document.getElementById('bone' + index).textContent = boneValues[index];
            checkBoneCode();
        }

        function checkBoneCode() {
            // –ö–æ–¥: 1-4-3-7 (–∏–ª–∏ –º–æ–∂–Ω–æ 5-2-5-2 –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏–∏)
            // –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º 5-2-5-2 (–ø–æ–∑–∏—Ü–∏–∏ –õ –∏ –Æ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è)
            if (boneValues[0] === 5 && boneValues[1] === 2 && 
                boneValues[2] === 5 && boneValues[3] === 2) {
                setTimeout(() => goToStage(5), 500);
            }
        }

        // –≠—Ç–∞–ø 5: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
        function startTransformation() {
            const fill = document.getElementById('loadingFill');
            setTimeout(() => {
                fill.style.width = '100%';
            }, 100);
            
            setTimeout(() => {
                goToStage(6);
            }, 3200);
        }

        // –≠—Ç–∞–ø 6: –í–∑—Ä—ã–≤ –ª—é–±–≤–∏
        function startLoveExplosion() {
            // –í–∑—Ä—ã–≤ —ç–º–æ–¥–∑–∏ –∏–∑ —Ü–µ–Ω—Ç—Ä–∞
            setTimeout(() => {
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        createExplosion();
                    }, i * 50);
                }
            }, 500);

            // –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –¥–æ–∂–¥—å
            setInterval(() => {
                createFloating();
            }, 300);
        }

        function createExplosion() {
            const emojis = ['üíñ', 'üíï', 'üíó', 'üíù', '‚ù§Ô∏è', 'üåπ', '‚ú®', '‚≠ê', 'üåü'];
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            explosion.style.left = '50%';
            explosion.style.top = '50%';
            explosion.style.setProperty('--x', (Math.random() - 0.5) * 100 + 'vw');
            explosion.style.setProperty('--y', (Math.random() - 0.5) * 100 + 'vh');
            document.body.appendChild(explosion);
            
            setTimeout(() => explosion.remove(), 2000);
        }

        function createFloating() {
            const emojis = ['üíñ', 'üíï', 'üíó', 'üíù', '‚ù§Ô∏è', 'üåπ', '‚ú®'];
            const floating = document.createElement('div');
            floating.className = 'floating';
            floating.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            floating.style.left = Math.random() * 100 + 'vw';
            floating.style.bottom = '-60px';
            floating.style.animationDuration = (3 + Math.random() * 2) + 's';
            document.body.appendChild(floating);
            
            setTimeout(() => floating.remove(), 5000);
        }

        // –ü–∞—Å—Ö–∞–ª–∫–∞: –≤—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏–µ
        if (window.DeviceMotionEvent) {
            let lastShake = 0;
            window.addEventListener('devicemotion', (e) => {
                const acc = e.accelerationIncludingGravity;
                const now = Date.now();
                
                if (now - lastShake > 2000) {
                    const movement = Math.abs(acc.x) + Math.abs(acc.y) + Math.abs(acc.z);
                    if (movement > 35) {
                        // –°–ª—É—á–∞–π–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø –ø—Ä–∏ –≤—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏–∏ (—á–∏—Ç–µ—Ä—Å—Ç–≤–æ)
                        if (currentStage < 5) {
                            goToStage(currentStage + 1);
                        }
                        lastShake = now;
                    }
                }
            });
        }
    </script>
</body>
</html>